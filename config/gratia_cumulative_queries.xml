<graphtool-config>

  <import file="$CONFIG_ROOT/generic_queries.xml" />

  <class type="SqlQueries" name="GratiaCumulativeQueries">

    <attribute name="connection_manager"> GratiaConnMan </attribute>

    <attribute name="display_name"> Cumulative Graph </attribute>

    <query name="hours_success_cumulative" base="GratiaGenericQuery.jobs_query">
      <sql>
        <filler name="group"> CEName.facilty_name </filler>
        <filler name="column"> sum(EndTime - StartTime)/3600 </filler>
      </sql>
      <results module="graphtool.database.query_handler" function="cumulative_pivot_group_parser" />
      <attribute name="pivot_name"> Facility </attribute>
      <attribute name="title"> Cumulative Hours Spent on Successful Jobs </attribute>
      <attribute name="column_names"> Computation Time </attribute>
      <attribute name="column_units"> Hours </attribute>
      <attribute name="graph_type"> GratiaCumulative </attribute>
    </query>

  </class>

</graphtool-config>
